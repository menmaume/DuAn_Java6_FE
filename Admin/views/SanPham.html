<div class="pagetitle">
    <h1>Quản Lý Sản Phẩm</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Trang Chủ</a></li>
            <li class="breadcrumb-item">Quản Lý Sản Phẩm</li>
            <li class="breadcrumb-item active">Sản Phẩm</li>
        </ol>
    </nav>
</div><!-- End Page Title -->

<div class="card">
    <div class="card-body">
        <h5 class="card-title">Sản Phẩm</h5>
        <!-- Small tables -->
        <table class="table table-sm">
            <thead>
                <tr>
                    <th scope="col">Mã sản phẩm</th>
                    <th scope="col">Tên sản phẩm</th>
                    <th scope="col">Thông tin sản phẩm</th>
                    <th scope="col">Xuất xứ</th>
                    <th scope="col">Nơi sản xuất</th>
                    <th scope="col">Loại da</th>
                    <th scope="col">Đặc tính</th>
                    <th scope="col">Giới tính</th>
                    <th scope="col">Vấn đề da</th>
                    <th scope="col">Thành Phần</th>
                    <th scope="col">Hướng dẫn sử dụng</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="sp in sanPham">
                    <th scope="row">{{sp.maSP}}</th>
                    <td>{{sp.tenSP}}</td>
                    <td>{{sp.thongTinSanPham}}</td>
                    <td>{{sp.xuatXu}}</td>
                    <td>{{sp.noiSanXuat}}</td>
                    <td>{{sp.loaiDa}}</td>
                    <td>{{sp.dacTinh}}</td>
                    <td>{{sp.gioiTinh}}</td>
                    <td>{{sp.vanDeDa}}</td>
                    <td>{{sp.thanhPhan}}</td>
                    <td>{{sp.huongDanSuDung}}</td>
                    <td>
                        <div class="icon">
                            <button class="btn btn-link p-0 me-2" ng-click="editSanPham(sp)">
                                <i class="bi bi-pencil-fill"></i>
                            </button>
                            <button class="btn btn-link p-0" ng-click="confirmDelete(sp)">
                                <i class="ri-delete-bin-5-fill"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- End small tables -->
    </div>
</div>

<section class="section">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Quản Lý Sản Phẩm</h5>
                    <form name="productForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row mb-3">
                                    <label for="maSP" class="col-sm-4 col-form-label">Mã Sản Phẩm</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="maSP" ng-model="newSanPham.maSP"
                                            required disabled>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="tenSP" class="col-sm-4 col-form-label">Tên Sản Phẩm</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="tenSP" ng-model="newSanPham.tenSP"
                                            required>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="thongTinSanPham" class="col-sm-4 col-form-label">Thông Tin Sản
                                        Phẩm</label>
                                    <div class="col-sm-8">
                                        <textarea id="thongTinSanPham" name="thongTinSanPham" rows="3"
                                            class="form-control" ng-model="newSanPham.thongTinSanPham"></textarea>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="selectBrand" class="col-sm-4 col-form-label">Mã Loại Sản Phẩm</label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="selectBrand"
                                            ng-model="newSanPham.loaiSanPham.maLoaiSanPham">
                                            <option value="">Chọn Mã Thương Hiệu</option>
                                            <option ng-repeat="lsp in sanPham"
                                                value="{{lsp.loaiSanPham.maLoaiSanPham}}">
                                                {{lsp.loaiSanPham.loaiSanPham}}</option>
                                            <!-- Add other options as needed -->
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="selectBrand" class="col-sm-4 col-form-label">Mã Thương Hiệu</label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="selectBrand"
                                            ng-model="newSanPham.thuongHieu.maTH">
                                            <option value="">Chọn Mã Thương Hiệu</option>
                                            <option ng-repeat="th in sanPham" value="{{th.thuongHieu.maTH}}">
                                                {{th.thuongHieu}}</option>
                                            <!-- Add other options as needed -->
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="xuatXu" class="col-sm-4 col-form-label">Xuất Xứ</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="xuatXu"
                                            ng-model="newSanPham.xuatXu">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="noiSanXuat" class="col-sm-4 col-form-label">Nơi Sản Xuất</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="noiSanXuat"
                                            ng-model="newSanPham.noiSanXuat">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="row mb-3">
                                    <label for="loaiDa" class="col-sm-4 col-form-label">Loại Da</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="loaiDa"
                                            ng-model="newSanPham.loaiDa">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="dacTinh" class="col-sm-4 col-form-label">Đặc Tính</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="dacTinh"
                                            ng-model="newSanPham.dacTinh">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="vanDeDa" class="col-sm-4 col-form-label">Vấn Đề Da</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="vanDeDa"
                                            ng-model="newSanPham.vanDeDa">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="thanhPhan" class="col-sm-4 col-form-label">Thành Phần</label>
                                    <div class="col-sm-8">
                                        <textarea id="thanhPhan" name="thanhPhan" rows="3" class="form-control"
                                            ng-model="newSanPham.thanhPhan"></textarea>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <label for="huongDanSuDung" class="col-sm-4 col-form-label">Hướng dẫn sử
                                        dụng</label>
                                    <div class="col-sm-8">
                                        <textarea id="huongDanSuDung" name="huongDanSuDung" rows="3"
                                            class="form-control" ng-model="newSanPham.huongDanSuDung"></textarea>
                                    </div>
                                </div>
                                <fieldset class="row mb-3">
                                    <legend class="col-form-label col-sm-4 pt-0">Giới Tính</legend>
                                    <div class="col-sm-8">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="gioiTinh" id="nam"
                                                ng-model="newSanPham.gioiTinh" value="Nam" checked>
                                            <label class="form-check-label" for="nam">
                                                Nam
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="gioiTinh" id="nu"
                                                ng-model="newSanPham.gioiTinh" value="Nữ">
                                            <label class="form-check-label" for="nu">
                                                Nữ
                                            </label>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end mt-4">
                            <button type="button" class="btn btn-success me-2" ng-show="!selectedSanPham"
                                ng-click="btnLuu()">Thêm</button>
                            <button type="button" class="btn btn-warning me-2" ng-show="selectedSanPham"
                                ng-click="updateSanPham()">Sửa</button>
                            <button type="button" class="btn btn-secondary" ng-click="resetForm()">Làm Mới</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Toast Container -->
<div class="toast-container position-fixed top-0 end-0 p-3">
    <!-- Toast lỗi -->
    <div id="errorToast" class="toast align-items-center text-white bg-danger border-0" role="alert"
        aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                <i class="fas fa-exclamation-circle me-2"></i>
                <strong>Lỗi!</strong> Thao tác không thành công.
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                aria-label="Close"></button>
        </div>
        <!-- Thanh tiến trình -->
        <div class="toast-progress">
            <div id="errorToastProgressBar" class="toast-progress-bar"></div>
        </div>
    </div>

    <!-- Toast thành công -->
    <div id="successToast" class="toast align-items-center text-white bg-success border-0" role="alert"
        aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                <i class="fas fa-check-circle me-2"></i>
                <strong>Thành công!</strong> Thao tác đã hoàn tất thành công.
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                aria-label="Close"></button>
        </div>
        <!-- Thanh tiến trình -->
        <div class="toast-progress">
            <div id="successToastProgressBar" class="toast-progress-bar"></div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/angular@1.8.2/angular.min.js"></script>